---
// base pathë¥¼ ê°€ì ¸ì˜¤ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
export function getBaseUrl() {
  return import.meta.env.BASE_URL;
}

// ì´ë¯¸ì§€ URLì„ ìƒì„±í•˜ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
export function getImage(path: string) {
  return `${getBaseUrl()}${path}`;
}

interface Props {
  title: string;
  description?: string;
}

const { title, description = "EdgeXëŠ” ë¶„ì‚°í˜• AI ì¸í”„ë¼ë¥¼ êµ¬ì¶•í•˜ëŠ” Web3 ê¸°ë°˜ì˜ ì—£ì§€ ì»´í“¨íŒ… í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. PCë°©ì„ ìœ„í•œ ë„ì… ì œì•ˆì„œì…ë‹ˆë‹¤." } = Astro.props;
---

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content={description}>
  <meta name="keywords" content="EdgeX, Web3, ì—£ì§€ ì»´í“¨íŒ…, AI ì¸í”„ë¼, PCë°©, ë¶„ì‚°í˜•">
  <title>{title}</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ</text></svg>">
</head>
<body>
  <slot />
  
  <!-- ëª¨ë°”ì¼ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
  <nav class="bottom-nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="#intro" class="nav-link active">
          <i class="fas fa-info-circle"></i>
          <span>ì†Œê°œ</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#benefits" class="nav-link">
          <i class="fas fa-chart-line"></i>
          <span>íš¨ê³¼</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#infra" class="nav-link">
          <i class="fas fa-server"></i>
          <span>ì¸í”„ë¼</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#rewards" class="nav-link">
          <i class="fas fa-coins"></i>
          <span>ë³´ìƒ</span>
        </a>
      </li>
    </ul>
  </nav>
  
  <script>
    // ì „ì—­ ë³€ìˆ˜ë¡œ base URL ë…¸ì¶œ
    window.BASE_URL = import.meta.env.BASE_URL;
    
    // ìŠ¤í¬ë¡¤ ì‹œ ì„¹ì…˜ ì• ë‹ˆë©”ì´ì…˜
    document.addEventListener('DOMContentLoaded', function() {
      const sections = document.querySelectorAll('section');
      
      // ì´ˆê¸° ë¡œë“œ ì‹œ í™”ë©´ì— ë³´ì´ëŠ” ì„¹ì…˜ë“¤ í‘œì‹œ
      sections.forEach(section => {
        if (isElementInViewport(section)) {
          section.classList.add('animate-on-scroll');
        }
      });
      
      // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸
      window.addEventListener('scroll', function() {
        sections.forEach(section => {
          if (isElementInViewport(section) && !section.classList.contains('animate-on-scroll')) {
            section.classList.add('animate-on-scroll');
          }
        });
        
        // ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
        updateActiveNavLink();
      });
      
      // ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ë§í¬ í´ë¦­ ì´ë²¤íŠ¸
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          navLinks.forEach(l => l.classList.remove('active'));
          this.classList.add('active');
        });
      });
      
      // ì²« ë¡œë“œì‹œ í™œì„±í™” ìƒíƒœ ì„¤ì •
      updateActiveNavLink();
    });
    
    // ìš”ì†Œê°€ ë·°í¬íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
    function isElementInViewport(el) {
      const rect = el.getBoundingClientRect();
      return (
        rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.8 &&
        rect.bottom >= 0
      );
    }
    
    // í˜„ì¬ ë³´ì´ëŠ” ì„¹ì…˜ì— ë”°ë¼ ë„¤ë¹„ê²Œì´ì…˜ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
    function updateActiveNavLink() {
      const sections = document.querySelectorAll('section');
      const navLinks = document.querySelectorAll('.nav-link');
      
      let currentSectionId = '';
      
      sections.forEach(section => {
        const rect = section.getBoundingClientRect();
        if (rect.top <= window.innerHeight * 0.5 && rect.bottom >= window.innerHeight * 0.5) {
          currentSectionId = section.id;
        }
      });
      
      if (currentSectionId) {
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${currentSectionId}`) {
            link.classList.add('active');
          }
        });
      }
    }
  </script>
</body>
</html>

<style is:global>
  /* CSS ê°€ì ¸ì˜¤ê¸° ë¬¸ì€ ë‹¤ë¥¸ ëª¨ë“  CSS ê·œì¹™ë³´ë‹¤ ë¨¼ì € ì™€ì•¼ í•©ë‹ˆë‹¤ */
  @import "../styles/global.css";
  
  /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: 'Noto Sans KR', sans-serif;
    line-height: 1.6;
  }
</style>
